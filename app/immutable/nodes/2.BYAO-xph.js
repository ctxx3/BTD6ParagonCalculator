import{t as ae,b as j,c as be}from"../chunks/JX3FnoaB.js";import{m as we,n as ye,q as ze,t as _e,b as Ke,h as A,a as Je,R as p,a7 as Xe,c as Ze,r as ke,s as le,d as se,g as Z,z as Qe,e as Re,f as Oe,p as We,am as ie,D as qe,an as Te,ac as er,ao as Ae,ap as pe,aq as rr,C as ar,ar as tr,L as lr,as as xe,at as sr,x as ir,o as nr,w as or,G as cr,au as He,a2 as me,av as vr,aw as dr,ax as fr,ay as ur,az as _r,aA as mr,a1 as Be,aB as Fe,aC as hr,aD as pr,j as xr,a0 as Ge,I as gr,aa as ne,aj as Ee,u as br,Z as m,$ as g,Y as oe,J as wr,ab as Me,_ as h,aE as yr,M as Se}from"../chunks/B186LnYx.js";import{s as V}from"../chunks/CqhwPZtg.js";import{i as kr}from"../chunks/DMMo-42K.js";import{o as Tr}from"../chunks/B340SDio.js";import{b as Ce}from"../chunks/FPkg2HXQ.js";let De=!1;function je(){De||(De=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const a of e.target.elements)(r=a.__on_r)==null||r.call(a)})},{capture:!0}))}function Ar(e){var r=ze,a=_e;we(null),ye(null);try{return e()}finally{we(r),ye(a)}}function ge(e,r,a,l=a){e.addEventListener(r,()=>Ar(a));const t=e.__on_r;t?e.__on_r=()=>{t(),l(!0)}:e.__on_r=()=>l(!0),je()}function ce(e,r){return r}function Er(e,r,a,l){for(var t=[],s=r.length,i=0;i<s;i++)rr(r[i].e,t,!0);var c=s>0&&t.length===0&&a!==null;if(c){var _=a.parentNode;ar(_),_.append(a),l.clear(),O(e,r[0].prev,r[s-1].next)}tr(t,()=>{for(var n=0;n<s;n++){var f=r[n];c||(l.delete(f.k),O(e,f.prev,f.next)),lr(f.e,!c)}})}function ve(e,r,a,l,t,s=null){var i=e,c={flags:r,items:new Map,first:null},_=(r&He)!==0;if(_){var n=e;i=A?le(or(n)):n.appendChild(cr())}A&&Je();var f=null,E=!1,v=Xe(()=>{var x=a();return nr(x)?x:x==null?[]:qe(x)});Ke(()=>{var x=p(v),o=x.length;if(E&&o===0)return;E=o===0;let D=!1;if(A){var k=i.data===Ze;k!==(o===0)&&(i=ke(),le(i),se(!1),D=!0)}if(A){for(var T=null,M,y=0;y<o;y++){if(Z.nodeType===8&&Z.data===Qe){i=Z,D=!0,se(!1);break}var d=x[y],u=l(d,y);M=Ve(Z,c,T,null,d,u,y,t,r,a),c.items.set(u,M),T=M}o>0&&le(ke())}A||Mr(x,c,i,t,r,l,a),s!==null&&(o===0?f?Re(f):f=Oe(()=>s(i)):f!==null&&We(f,()=>{f=null})),D&&se(!0),p(v)}),A&&(i=Z)}function Mr(e,r,a,l,t,s,i){var G,$,re,z;var c=(t&vr)!==0,_=(t&(xe|pe))!==0,n=e.length,f=r.items,E=r.first,v=E,x,o=null,D,k=[],T=[],M,y,d,u;if(c)for(u=0;u<n;u+=1)M=e[u],y=s(M,u),d=f.get(y),d!==void 0&&((G=d.a)==null||G.measure(),(D??(D=new Set)).add(d));for(u=0;u<n;u+=1){if(M=e[u],y=s(M,u),d=f.get(y),d===void 0){var W=v?v.e.nodes_start:a;o=Ve(W,r,o,o===null?r.first:o.next,M,y,u,l,t,i),f.set(y,o),k=[],T=[],v=o.next;continue}if(_&&Sr(d,M,u,t),(d.e.f&ie)!==0&&(Re(d.e),c&&(($=d.a)==null||$.unfix(),(D??(D=new Set)).delete(d))),d!==v){if(x!==void 0&&x.has(d)){if(k.length<T.length){var F=T[0],C;o=F.prev;var U=k[0],q=k[k.length-1];for(C=0;C<k.length;C+=1)Ie(k[C],F,a);for(C=0;C<T.length;C+=1)x.delete(T[C]);O(r,U.prev,q.next),O(r,o,U),O(r,q,F),v=F,o=q,u-=1,k=[],T=[]}else x.delete(d),Ie(d,v,a),O(r,d.prev,d.next),O(r,d,o===null?r.first:o.next),O(r,o,d),o=d;continue}for(k=[],T=[];v!==null&&v.k!==y;)(v.e.f&ie)===0&&(x??(x=new Set)).add(v),T.push(v),v=v.next;if(v===null)continue;d=v}k.push(d),o=d,v=d.next}if(v!==null||x!==void 0){for(var P=x===void 0?[]:qe(x);v!==null;)(v.e.f&ie)===0&&P.push(v),v=v.next;var Y=P.length;if(Y>0){var ee=(t&He)!==0&&n===0?a:null;if(c){for(u=0;u<Y;u+=1)(re=P[u].a)==null||re.measure();for(u=0;u<Y;u+=1)(z=P[u].a)==null||z.fix()}Er(r,P,ee,f)}}c&&me(()=>{var K;if(D!==void 0)for(d of D)(K=d.a)==null||K.apply()}),_e.first=r.first&&r.first.e,_e.last=o&&o.e}function Sr(e,r,a,l){(l&xe)!==0&&Te(e.v,r),(l&pe)!==0?Te(e.i,a):e.i=a}function Ve(e,r,a,l,t,s,i,c,_,n){var f=(_&xe)!==0,E=(_&sr)===0,v=f?E?er(t):Ae(t):t,x=(_&pe)===0?i:Ae(i),o={i:x,v,k:s,a:null,e:null,prev:a,next:l};try{return o.e=Oe(()=>c(e,v,x,n),A),o.e.prev=a&&a.e,o.e.next=l&&l.e,a===null?r.first=o:(a.next=o,a.e.next=o.e),l!==null&&(l.prev=o,l.e.prev=o.e),o}finally{}}function Ie(e,r,a){for(var l=e.next?e.next.e.nodes_start:a,t=r?r.e.nodes_start:a,s=e.e.nodes_start;s!==l;){var i=ir(s);t.before(s),s=i}}function O(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Cr(e,r,a){var l=e==null?"":""+e;return l===""?null:l}function Dr(e,r){return e==null?null:String(e)}function Ir(e,r,a,l,t,s){var i=e.__className;if(A||i!==a||i===void 0){var c=Cr(a);(!A||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}return s}function Nr(e,r,a,l){var t=e.__style;if(A||t!==r){var s=Dr(r);(!A||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=r}return l}const Lr=Symbol("is custom element"),Pr=Symbol("is html");function Ne(e){if(A){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;B(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var t=e.checked;B(e,"checked",null),e.checked=t}}};e.__on_r=a,dr(a),je()}}function B(e,r,a,l){var t=Rr(e);A&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[fr]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Or(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Rr(e){return e.__attributes??(e.__attributes={[Lr]:e.nodeName.includes("-"),[Pr]:e.namespaceURI===ur})}var Le=new Map;function Or(e){var r=Le.get(e.nodeName);if(r)return r;Le.set(e.nodeName,r=[]);for(var a,l=e,t=Element.prototype;t!==l;){a=mr(l);for(var s in a)a[s].set&&r.push(s);l=_r(l)}return r}function qr(e,r,a=r){var l=pr();ge(e,"input",t=>{var s=t?e.defaultValue:e.value;if(s=fe(e)?ue(s):s,a(s),l&&s!==(s=r())){var i=e.selectionStart,c=e.selectionEnd;e.value=s??"",c!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(c,e.value.length))}}),(A&&e.defaultValue!==e.value||xr(r)==null&&e.value)&&a(fe(e)?ue(e.value):e.value),Be(()=>{var t=r();fe(e)&&t===ue(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}const de=new Set;function Hr(e,r,a,l,t=l){var s=a.getAttribute("type")==="checkbox",i=e;let c=!1;if(r!==null)for(var _ of r)i=i[_]??(i[_]=[]);i.push(a),ge(a,"change",()=>{var n=a.__value;s&&(n=Pe(i,n,a.checked)),t(n)},()=>t(s?[]:null)),Be(()=>{var n=l();if(A&&a.defaultChecked!==a.checked){c=!0;return}s?(n=n||[],a.checked=n.includes(a.__value)):a.checked=Fe(a.__value,n)}),hr(()=>{var n=i.indexOf(a);n!==-1&&i.splice(n,1)}),de.has(i)||(de.add(i),me(()=>{i.sort((n,f)=>n.compareDocumentPosition(f)===4?-1:1),de.delete(i)})),me(()=>{if(c){var n;if(s)n=Pe(i,n,a.checked);else{var f=i.find(E=>E.checked);n=f==null?void 0:f.__value}t(n)}})}function Pe(e,r,a){for(var l=new Set,t=0;t<e.length;t+=1)e[t].checked&&l.add(e[t].__value);return a||l.delete(r),Array.from(l)}function fe(e){var r=e.type;return r==="number"||r==="range"}function ue(e){return e===""?null:+e}function Ue(e,r,a){if(e.multiple)return Gr(e,r);for(var l of e.options){var t=Q(l);if(Fe(t,r)){l.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Br(e,r){Ge(()=>{var a=new MutationObserver(()=>{var l=e.__value;Ue(e,l)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Fr(e,r,a=r){var l=!0;ge(e,"change",t=>{var s=t?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(s),Q);else{var c=e.querySelector(s)??e.querySelector("option:not([disabled])");i=c&&Q(c)}a(i)}),Ge(()=>{var t=r();if(Ue(e,t,l),l&&t===void 0){var s=e.querySelector(":checked");s!==null&&(t=Q(s),a(t))}e.__value=t,l=!1}),Br(e)}function Gr(e,r){for(var a of e.options)a.selected=~r.indexOf(Q(a))}function Q(e){return"__value"in e?e.__value:e.value}function jr(){return Array.from({length:100},(e,r)=>{const a=r+1;if(a===1)return 0;if(a===100)return 2e5;const l=50*a**3+5025*a**2+168324*a+843e3;return Math.floor(l/600)})}const he=jr();function Vr(e,r=he){const a=r.findIndex(l=>e<l);return a===-1?100:a}function Ur(e,r,a,l,t,s,i,c){let _=0;if(_+=Math.min(e*6e3,5e4),_+=Math.min(r*100,1e4),c!==0){let f=0,E=c/2e4;f+=Math.floor(a/E);let v=c*1.05/2e4;f+=Math.floor(l/v),_+=Math.min(f,6e4)}let n=0;return n+=Math.floor(t/180),n+=Math.floor(s/45),_+=Math.min(n,9e4),_+=i*2e3,_}var Yr=ae('<label class="relative cursor-pointer flex flex-col items-center min-w-[60px]"><input type="radio" name="tower" class="sr-only"> <div></div> <span class="text-xs text-stroke text-center mt-1 text-white truncate w-14"> </span></label>'),$r=ae('<div class="flex flex-col items-center min-w-[60px] animate-pulse"><div class="w-12 h-12 md:w-14 md:h-14 bg-gray-200 rounded-lg mb-1"></div> <div class="w-10 h-4 bg-gray-200 rounded"></div></div>'),zr=ae('<div class="flex flex-col"><div class="flex items-center gap-1"><label class="font-medium text-stroke"> </label> <span class="group relative"><svg class="w-3 h-3 text-gray-400 cursor-pointer" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4M12 8h.01"></path></svg> <div class="absolute z-10 hidden group-hover:block bg-black text-white text-xs rounded p-2 w-40 left-1/2 -translate-x-1/2 mt-1 shadow-lg"> </div></span></div> <input type="number" class="mt-1 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-200 bg-darker-blue"></div>'),Kr=ae('<div class="min-h-screen p-2 md:p-6 flex items-center flex-col"><img src="icons/paragonicon.webp" alt="BTD6 Logo" class="w-24 md:w-42 mb-4"> <h1 class="text-3xl md:text-5xl font-bold text-white text-stroke text-center mb-4">BTD6 Paragon Calculator</h1> <div class="flex flex-col w-full max-w-5xl mx-auto gap-4 md:flex-row"><div class="md:w-1/2 bg-main rounded-xl shadow-lg p-3 md:p-5 flex flex-col gap-3"><h2 class="text-lg md:text-xl font-semibold mb-2 text-white text-stroke flex items-center gap-2">Tower & Parameters</h2> <div><h3 class="font-medium mb-1 text-white text-stroke">Select Tower</h3> <div class="flex gap-2 overflow-x-auto py-2"><!></div></div> <form class="grid grid-cols-1 md:grid-cols-2 gap-2 text-white"><div class="flex flex-col"><label for="difficulty" class="font-medium mb-1 text-stroke">Difficulty</label> <select class="px-2 py-1 h-8 border-0 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-300 bg-darker-blue text-white" id="difficulty" name="difficulty"><option>Easy</option><option>Medium</option><option>Hard</option><option>Impoppable</option></select></div> <!></form></div> <div class="md:w-1/2 bg-main rounded-xl shadow-lg p-3 md:p-5 flex flex-col gap-3 justify-between text-white"><div><h2 class="text-lg md:text-xl font-semibold mb-2 flex items-center gap-2 text-stroke">Calculation Results</h2> <div class="p-3 bg-gradient-to-r bg-darker-blue rounded-lg mb-2 flex flex-col items-center"><div class="text-base font-medium">Estimated Degree</div> <div class="text-3xl font-extrabold tracking-tight text-[#00DDFF]"> </div></div> <div class="grid grid-cols-2 gap-2 mb-2"><div class="p-2 bg-darker-blue rounded-lg flex flex-col items-center"><div class="text-xs font-medium">Current Power</div> <div class="text-lg font-semibold text-[#00DDFF]"> </div></div> <div class="p-2 bg-darker-blue rounded-lg flex flex-col items-center"><div class="text-xs font-medium">Progress to Next</div> <div class="text-lg font-semibold text-[#00DDFF]"> </div></div></div></div></div></div> <div class="mt-4 text-center text-white text-stroke"><p>Created by <a href="https://github.com/ctxx3" class="text-blue-400 hover:text-lg duration-75">Ctx3</a> a fork of project made by <a href="https://github.com/Kaister300/BTD6ParagonCalculator" class="text-blue-400 hover:text-lg duration-75">Kaister300</a>.</p></div></div>');function ra(e,r){gr(r,!0);const a=[],l=[{key:"tier5Towers",label:"Tier 5 Towers",min:0,max:9,tooltip:"Tier 5 Towers (excluding initial 3)."},{key:"upgrades",label:"Upgrades",min:0,max:999,tooltip:"All upgrade tiers spent on towers excluding Tier 5s. Max 100."},{key:"popCount",label:"Pop Count",min:0,max:162e5,tooltip:"Bloons popped from every tower of the paragon type. Max 16.2M."},{key:"cashSpent",label:"Cash Spent",min:0,max:5e6,tooltip:"Total spent on towers excluding T5s. Max $5,000,000."},{key:"cashGenerated",label:"Cash Generated",min:0,max:405e4,tooltip:"Buccaneer & Engineer only. Max $4.05M."},{key:"cashInjections",label:"Cash Injections",min:0,max:1e7,tooltip:"Allowed cash injection for the paragon. 3.15x base cost."},{key:"powerTotems",label:"Power Totems",min:0,max:999,tooltip:"No max cap for paragon power."}];let t=ne({selectedTower:1,difficulty:"easy",tier5Towers:0,upgrades:0,cashSpent:0,cashGenerated:0,cashInjections:0,popCount:0,powerTotems:0}),s=Ee(ne([])),i=Ee(ne({level:2,currDegree:0,nextDegree:2e3}));function c(){const w=p(s).find(N=>N.id===t.selectedTower);if(!w)return{level:0,currDegree:0,nextDegree:0};const b=Ur(t.tier5Towers,t.upgrades,t.cashSpent,t.cashInjections,t.popCount,t.cashGenerated,t.powerTotems,w.prices[t.difficulty]),I=Vr(b,he);return{level:I,currDegree:b,nextDegree:he[I]}}br(()=>{Me(i,c(),!0)}),Tr(()=>{fetch(`${Ce}/json/paragons.json`).then(w=>w.json()).then(w=>Me(s,w,!0)).catch(console.error)});var _=Kr(),n=g(m(_),4),f=m(n),E=g(m(f),2),v=g(m(E),2),x=m(v);{var o=w=>{var b=be(),I=Se(b);ve(I,17,()=>p(s),ce,(N,S)=>{var H=Yr(),R=m(H);Ne(R);var J,X=g(R,2),L=g(X,2),te=m(L,!0);h(L),h(H),oe(()=>{J!==(J=p(S).id)&&(R.value=(R.__value=p(S).id)??""),Nr(X,`background-image: url(${Ce+p(S).image});`),Ir(X,1,`bg-darker-blue w-12 h-12 md:w-14 md:h-14 bg-center bg-contain bg-no-repeat rounded-lg border-2 transition-all duration-150 ${t.selectedTower===p(S).id?"border-gold ring-2 ring-gold scale-105":"border-gold hover:border-gold"}`),V(te,p(S).name)}),Hr(a,[],R,()=>(p(S).id,t.selectedTower),$e=>t.selectedTower=$e),j(N,H)}),j(w,b)},D=w=>{var b=be(),I=Se(b);ve(I,16,()=>Array(9),ce,(N,S)=>{var H=$r();j(N,H)}),j(w,b)};kr(x,w=>{p(s).length>0?w(o):w(D,!1)})}h(v),h(E);var k=g(E,2),T=m(k),M=g(m(T),2),y=m(M);y.value=y.__value="easy";var d=g(y);d.value=d.__value="medium";var u=g(d);u.value=u.__value="hard";var W=g(u);W.value=W.__value="impoppable",h(M),h(T);var F=g(T,2);ve(F,17,()=>l,ce,(w,b)=>{var I=zr(),N=m(I),S=m(N),H=m(S,!0);h(S);var R=g(S,2),J=g(m(R),2),X=m(J,!0);h(J),h(R),h(N);var L=g(N,2);Ne(L),h(I),oe(()=>{B(S,"for",p(b).key),V(H,p(b).label),V(X,p(b).tooltip),B(L,"id",p(b).key),B(L,"min",p(b).min),B(L,"max",p(b).max),B(L,"placeholder",p(b).label)}),qr(L,()=>t[p(b).key],te=>t[p(b).key]=te),j(w,I)}),h(k),h(f);var C=g(f,2),U=m(C),q=g(m(U),2),P=g(m(q),2),Y=m(P,!0);h(P),h(q);var ee=g(q,2),G=m(ee),$=g(m(G),2),re=m($,!0);h($),h(G);var z=g(G,2),K=g(m(z),2),Ye=m(K,!0);h(K),h(z),h(ee),h(U),h(C),h(n),yr(2),h(_),oe((w,b)=>{V(Y,p(i).level),V(re,w),V(Ye,b)},[()=>p(i).currDegree.toLocaleString(),()=>p(i).nextDegree.toLocaleString()]),Fr(M,()=>t.difficulty,w=>t.difficulty=w),j(e,_),wr()}export{ra as component};
