import{t as Q,b as G,c as ke}from"../chunks/CYKiUiQT.js";import{m as Te,n as Ae,q as Ze,t as me,b as Qe,h as k,a as We,R as p,a7 as er,c as rr,r as Ee,s as ie,d as ne,g as X,z as ar,e as He,f as Be,p as tr,am as oe,D as Ge,an as Me,ac as lr,ao as De,ap as xe,aq as sr,C as ir,ar as nr,L as or,as as ge,at as dr,x as vr,o as cr,w as fr,G as ur,au as Ve,a2 as he,av as _r,aw as mr,ax as hr,ay as pr,az as xr,aA as gr,a1 as $e,aB as je,aC as br,aD as wr,j as yr,a0 as Ue,I as kr,aa as de,aj as Se,u as Tr,Z as m,$ as w,Y as se,J as Ar,ab as Ce,_ as h,aE as Er,M as Ie}from"../chunks/D4W-8_ti.js";import{s as V}from"../chunks/BS3UO0mC.js";import{i as Le}from"../chunks/lX66ZqEC.js";import{o as Mr}from"../chunks/CgPLZvdf.js";import{b as Ne}from"../chunks/ZFqLjuyM.js";let Pe=!1;function Ye(){Pe||(Pe=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const a of e.target.elements)(r=a.__on_r)==null||r.call(a)})},{capture:!0}))}function Dr(e){var r=Ze,a=me;Te(null),Ae(null);try{return e()}finally{Te(r),Ae(a)}}function be(e,r,a,l=a){e.addEventListener(r,()=>Dr(a));const t=e.__on_r;t?e.__on_r=()=>{t(),l(!0)}:e.__on_r=()=>l(!0),Ye()}function ve(e,r){return r}function Sr(e,r,a,l){for(var t=[],s=r.length,i=0;i<s;i++)sr(r[i].e,t,!0);var v=s>0&&t.length===0&&a!==null;if(v){var _=a.parentNode;ir(_),_.append(a),l.clear(),q(e,r[0].prev,r[s-1].next)}nr(t,()=>{for(var n=0;n<s;n++){var f=r[n];v||(l.delete(f.k),q(e,f.prev,f.next)),or(f.e,!v)}})}function ce(e,r,a,l,t,s=null){var i=e,v={flags:r,items:new Map,first:null},_=(r&Ve)!==0;if(_){var n=e;i=k?ie(fr(n)):n.appendChild(ur())}k&&We();var f=null,T=!1,d=er(()=>{var g=a();return cr(g)?g:g==null?[]:Ge(g)});Qe(()=>{var g=p(d),o=g.length;if(T&&o===0)return;T=o===0;let I=!1;if(k){var A=i.data===rr;A!==(o===0)&&(i=Ee(),ie(i),ne(!1),I=!0)}if(k){for(var E=null,M,y=0;y<o;y++){if(X.nodeType===8&&X.data===ar){i=X,I=!0,ne(!1);break}var c=g[y],u=l(c,y);M=ze(X,v,E,null,c,u,y,t,r,a),v.items.set(u,M),E=M}o>0&&ie(Ee())}k||Cr(g,v,i,t,r,l,a),s!==null&&(o===0?f?He(f):f=Be(()=>s(i)):f!==null&&tr(f,()=>{f=null})),I&&ne(!0),p(d)}),k&&(i=X)}function Cr(e,r,a,l,t,s,i){var re,z,U,K;var v=(t&_r)!==0,_=(t&(ge|xe))!==0,n=e.length,f=r.items,T=r.first,d=T,g,o=null,I,A=[],E=[],M,y,c,u;if(v)for(u=0;u<n;u+=1)M=e[u],y=s(M,u),c=f.get(y),c!==void 0&&((re=c.a)==null||re.measure(),(I??(I=new Set)).add(c));for(u=0;u<n;u+=1){if(M=e[u],y=s(M,u),c=f.get(y),c===void 0){var Y=d?d.e.nodes_start:a;o=ze(Y,r,o,o===null?r.first:o.next,M,y,u,l,t,i),f.set(y,o),A=[],E=[],d=o.next;continue}if(_&&Ir(c,M,u,t),(c.e.f&oe)!==0&&(He(c.e),v&&((z=c.a)==null||z.unfix(),(I??(I=new Set)).delete(c))),c!==d){if(g!==void 0&&g.has(c)){if(A.length<E.length){var P=E[0],C;o=P.prev;var W=A[0],j=A[A.length-1];for(C=0;C<A.length;C+=1)Re(A[C],P,a);for(C=0;C<E.length;C+=1)g.delete(E[C]);q(r,W.prev,j.next),q(r,o,W),q(r,j,P),d=P,o=j,u-=1,A=[],E=[]}else g.delete(c),Re(c,d,a),q(r,c.prev,c.next),q(r,c,o===null?r.first:o.next),q(r,o,c),o=c;continue}for(A=[],E=[];d!==null&&d.k!==y;)(d.e.f&oe)===0&&(g??(g=new Set)).add(d),E.push(d),d=d.next;if(d===null)continue;c=d}A.push(c),o=c,d=c.next}if(d!==null||g!==void 0){for(var R=g===void 0?[]:Ge(g);d!==null;)(d.e.f&oe)===0&&R.push(d),d=d.next;var F=R.length;if(F>0){var ee=(t&Ve)!==0&&n===0?a:null;if(v){for(u=0;u<F;u+=1)(U=R[u].a)==null||U.measure();for(u=0;u<F;u+=1)(K=R[u].a)==null||K.fix()}Sr(r,R,ee,f)}}v&&he(()=>{var ae;if(I!==void 0)for(c of I)(ae=c.a)==null||ae.apply()}),me.first=r.first&&r.first.e,me.last=o&&o.e}function Ir(e,r,a,l){(l&ge)!==0&&Me(e.v,r),(l&xe)!==0?Me(e.i,a):e.i=a}function ze(e,r,a,l,t,s,i,v,_,n){var f=(_&ge)!==0,T=(_&dr)===0,d=f?T?lr(t):De(t):t,g=(_&xe)===0?i:De(i),o={i:g,v:d,k:s,a:null,e:null,prev:a,next:l};try{return o.e=Be(()=>v(e,d,g,n),k),o.e.prev=a&&a.e,o.e.next=l&&l.e,a===null?r.first=o:(a.next=o,a.e.next=o.e),l!==null&&(l.prev=o,l.e.prev=o.e),o}finally{}}function Re(e,r,a){for(var l=e.next?e.next.e.nodes_start:a,t=r?r.e.nodes_start:a,s=e.e.nodes_start;s!==l;){var i=vr(s);t.before(s),s=i}}function q(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Lr(e,r,a){var l=e==null?"":""+e;return l===""?null:l}function Nr(e,r){return e==null?null:String(e)}function Pr(e,r,a,l,t,s){var i=e.__className;if(k||i!==a||i===void 0){var v=Lr(a);(!k||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=a}return s}function Rr(e,r,a,l){var t=e.__style;if(k||t!==r){var s=Nr(r);(!k||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=r}return l}const Or=Symbol("is custom element"),qr=Symbol("is html");function Oe(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;$(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var t=e.checked;$(e,"checked",null),e.checked=t}}};e.__on_r=a,mr(a),Ye()}}function $(e,r,a,l){var t=Fr(e);k&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[hr]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Hr(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Fr(e){return e.__attributes??(e.__attributes={[Or]:e.nodeName.includes("-"),[qr]:e.namespaceURI===pr})}var qe=new Map;function Hr(e){var r=qe.get(e.nodeName);if(r)return r;qe.set(e.nodeName,r=[]);for(var a,l=e,t=Element.prototype;t!==l;){a=gr(l);for(var s in a)a[s].set&&r.push(s);l=xr(l)}return r}function Br(e,r,a=r){var l=wr();be(e,"input",t=>{var s=t?e.defaultValue:e.value;if(s=ue(e)?_e(s):s,a(s),l&&s!==(s=r())){var i=e.selectionStart,v=e.selectionEnd;e.value=s??"",v!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(v,e.value.length))}}),(k&&e.defaultValue!==e.value||yr(r)==null&&e.value)&&a(ue(e)?_e(e.value):e.value),$e(()=>{var t=r();ue(e)&&t===_e(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}const fe=new Set;function Gr(e,r,a,l,t=l){var s=a.getAttribute("type")==="checkbox",i=e;let v=!1;if(r!==null)for(var _ of r)i=i[_]??(i[_]=[]);i.push(a),be(a,"change",()=>{var n=a.__value;s&&(n=Fe(i,n,a.checked)),t(n)},()=>t(s?[]:null)),$e(()=>{var n=l();if(k&&a.defaultChecked!==a.checked){v=!0;return}s?(n=n||[],a.checked=n.includes(a.__value)):a.checked=je(a.__value,n)}),br(()=>{var n=i.indexOf(a);n!==-1&&i.splice(n,1)}),fe.has(i)||(fe.add(i),he(()=>{i.sort((n,f)=>n.compareDocumentPosition(f)===4?-1:1),fe.delete(i)})),he(()=>{if(v){var n;if(s)n=Fe(i,n,a.checked);else{var f=i.find(T=>T.checked);n=f==null?void 0:f.__value}t(n)}})}function Fe(e,r,a){for(var l=new Set,t=0;t<e.length;t+=1)e[t].checked&&l.add(e[t].__value);return a||l.delete(r),Array.from(l)}function ue(e){var r=e.type;return r==="number"||r==="range"}function _e(e){return e===""?null:+e}function Ke(e,r,a){if(e.multiple)return jr(e,r);for(var l of e.options){var t=Z(l);if(je(t,r)){l.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Vr(e,r){Ue(()=>{var a=new MutationObserver(()=>{var l=e.__value;Ke(e,l)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function $r(e,r,a=r){var l=!0;be(e,"change",t=>{var s=t?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(s),Z);else{var v=e.querySelector(s)??e.querySelector("option:not([disabled])");i=v&&Z(v)}a(i)}),Ue(()=>{var t=r();if(Ke(e,t,l),l&&t===void 0){var s=e.querySelector(":checked");s!==null&&(t=Z(s),a(t))}e.__value=t,l=!1}),Vr(e)}function jr(e,r){for(var a of e.options)a.selected=~r.indexOf(Z(a))}function Z(e){return"__value"in e?e.__value:e.value}function Ur(){return Array.from({length:100},(e,r)=>{const a=r+1;if(a===1)return 0;if(a===100)return 2e5;const l=50*a**3+5025*a**2+168324*a+843e3;return Math.floor(l/600)})}const pe=Ur();function Yr(e,r=pe){const a=r.findIndex(l=>e<l);return a===-1?100:a}function zr(e,r,a,l,t,s,i,v){let _=0;if(_+=Math.min(e*6e3,5e4),_+=Math.min(r*100,1e4),v!==0){let f=0,T=v/2e4;f+=Math.floor(a/T);let d=v*1.05/2e4;f+=Math.floor(l/d),_+=Math.min(f,6e4)}let n=0;return n+=Math.floor(t/180),n+=Math.floor(s/45),_+=Math.min(n,9e4),_+=i*2e3,_}var Kr=Q('<label class="relative cursor-pointer flex flex-col items-center min-w-[60px]"><input type="radio" name="tower" class="sr-only"> <div></div> <span class="text-xs text-stroke text-center mt-1 text-white truncate w-14"> </span></label>'),Jr=Q('<div class="flex flex-col items-center min-w-[60px] animate-pulse"><div class="w-12 h-12 md:w-14 md:h-14 bg-gray-200 rounded-lg mb-1"></div> <div class="w-10 h-4 bg-gray-200 rounded"></div></div>'),Xr=Q('<span class="group relative"><span class="ms-1 cursor-pointer text-stroke text-[#00DDFF]">?</span> <div class="absolute z-10 hidden group-hover:block bg-black text-white rounded p-2 w-40 left-1/2 -translate-x-1/2 mt-1 shadow-lg"> </div></span>'),Zr=Q('<div class="flex flex-col"><div class="flex gap-1"><label class="font-medium text-stroke"> </label> <!></div> <input type="number" class="mt-1 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-200 bg-darker-blue"></div>'),Qr=Q('<div class="min-h-screen p-2 md:p-6 flex items-center flex-col"><img src="icons/paragonicon.webp" alt="BTD6 Logo" class="w-24 md:w-42 mb-4"> <h1 class="text-3xl md:text-5xl font-bold text-white text-stroke text-center mb-4">BTD6 Paragon Calculator</h1> <div class="flex flex-col w-full max-w-5xl mx-auto gap-4 md:flex-row"><div class="md:w-1/2 bg-main rounded-xl shadow-lg p-3 md:p-5 flex flex-col gap-3"><h2 class="text-lg md:text-xl font-semibold mb-2 text-white text-stroke flex items-center gap-2">Tower & Parameters</h2> <div><h3 class="font-medium mb-1 text-white text-stroke"> </h3> <div class="flex gap-2 overflow-x-auto py-2"><!></div></div> <form class="grid grid-cols-1 md:grid-cols-2 gap-2 text-white"><div class="flex flex-col"><label for="difficulty" class="font-medium mb-1 text-stroke">Difficulty</label> <select class="px-2 py-1 h-8 border-0 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-300 bg-darker-blue text-white" id="difficulty" name="difficulty"><option>Easy</option><option>Medium</option><option>Hard</option><option>Impoppable</option></select></div> <!></form></div> <div class="md:w-1/2 bg-main rounded-xl shadow-lg p-3 md:p-5 flex flex-col gap-3 justify-between text-white"><div><h2 class="text-lg md:text-xl font-semibold mb-2 flex items-center gap-2 text-stroke">Calculation Results</h2> <div class="p-3 bg-gradient-to-r bg-darker-blue rounded-lg mb-2 flex flex-col items-center"><div class="text-base font-medium">Estimated Degree</div> <div class="text-3xl font-extrabold tracking-tight text-[#00DDFF]"> </div></div> <div class="grid grid-cols-2 gap-2 mb-2"><div class="p-2 bg-darker-blue rounded-lg flex flex-col items-center"><div class="text-xs font-medium">Current Power</div> <div class="text-lg font-semibold text-[#00DDFF]"> </div></div> <div class="p-2 bg-darker-blue rounded-lg flex flex-col items-center"><div class="text-xs font-medium">Progress to Next</div> <div class="text-lg font-semibold text-[#00DDFF]"> </div></div></div></div></div></div> <div class="mt-4 text-center text-white text-stroke"><p>Created by <a href="https://github.com/ctxx3" class="text-blue-400 hover:text-lg duration-75">Ctx3</a> a fork of project made by <a href="https://github.com/Kaister300/BTD6ParagonCalculator" class="text-blue-400 hover:text-lg duration-75">Kaister300</a>.</p></div></div>');function sa(e,r){kr(r,!0);const a=[],l=[{key:"tier5Towers",label:"Extra Tier 5 Towers",min:0,max:9,tooltip:"Tier 5 Towers (excluding initial 3)."},{key:"upgrades",label:"Upgrades",min:0,max:100,tooltip:"All upgrade tiers spent on towers excluding Tier 5s. Max 100."},{key:"popCount",label:"Pop Count",min:0,max:162e5,tooltip:"Bloons popped from every tower of the paragon type. Max 16.2M."},{key:"cashSpent",label:"Cash Spent",min:0,max:5e6,tooltip:"Total spent on towers excluding T5s. Max $5,000,000."},{key:"cashGenerated",label:"Cash Generated",min:0,max:405e4,tooltip:"Buccaneer & Engineer only. Max $4.05M."},{key:"cashInjections",label:"Cash Slider",min:0,max:1e7,tooltip:"Allowed cash injection for the paragon. 3.15x base cost."},{key:"powerTotems",label:"Paragon totems",min:0,max:999,tooltip:""}];let t=de({selectedTower:1,difficulty:"easy",tier5Towers:0,upgrades:0,cashSpent:0,cashGenerated:0,cashInjections:0,popCount:0,powerTotems:0}),s=Se(de([])),i=Se(de({level:2,currDegree:0,nextDegree:2e3}));function v(){const b=p(s).find(N=>N.id===t.selectedTower);if(!b)return{level:0,currDegree:0,nextDegree:0};const x=zr(t.tier5Towers,t.upgrades,t.cashSpent,t.cashInjections,t.popCount,t.cashGenerated,t.powerTotems,b.prices[t.difficulty]),D=Yr(x,pe);return{level:D,currDegree:x,nextDegree:pe[D]}}Tr(()=>{Ce(i,v(),!0)}),Mr(()=>{fetch(`${Ne}/json/paragons.json`).then(b=>b.json()).then(b=>Ce(s,b,!0)).catch(console.error)});var _=Qr(),n=w(m(_),4),f=m(n),T=w(m(f),2),d=m(T),g=m(d);h(d);var o=w(d,2),I=m(o);{var A=b=>{var x=ke(),D=Ie(x);ce(D,17,()=>p(s),ve,(N,S)=>{var H=Kr(),B=m(H);Oe(B);var te,L=w(B,2),O=w(L,2),J=m(O,!0);h(O),h(H),se(()=>{te!==(te=p(S).id)&&(B.value=(B.__value=p(S).id)??""),Rr(L,`background-image: url(${Ne+p(S).image});`),Pr(L,1,`bg-darker-blue w-12 h-12 md:w-14 md:h-14 bg-center bg-contain bg-no-repeat rounded-lg border-2 transition-all duration-150 ${t.selectedTower===p(S).id?"border-gold ring-2 ring-gold scale-105":"border-gold hover:border-gold"}`),V(J,p(S).name)}),Gr(a,[],B,()=>(p(S).id,t.selectedTower),le=>t.selectedTower=le),G(N,H)}),G(b,x)},E=b=>{var x=ke(),D=Ie(x);ce(D,16,()=>Array(9),ve,(N,S)=>{var H=Jr();G(N,H)}),G(b,x)};Le(I,b=>{p(s).length>0?b(A):b(E,!1)})}h(o),h(T);var M=w(T,2),y=m(M),c=w(m(y),2),u=m(c);u.value=u.__value="easy";var Y=w(u);Y.value=Y.__value="medium";var P=w(Y);P.value=P.__value="hard";var C=w(P);C.value=C.__value="impoppable",h(c),h(y);var W=w(y,2);ce(W,17,()=>l,ve,(b,x)=>{var D=Zr(),N=m(D),S=m(N),H=m(S,!0);h(S);var B=w(S,2);{var te=O=>{var J=Xr(),le=w(m(J),2),Xe=m(le,!0);h(le),h(J),se(()=>V(Xe,p(x).tooltip)),G(O,J)};Le(B,O=>{p(x).tooltip!==""&&O(te)})}h(N);var L=w(N,2);Oe(L),h(D),se(()=>{$(S,"for",p(x).key),V(H,p(x).label),$(L,"id",p(x).key),$(L,"min",p(x).min),$(L,"max",p(x).max),$(L,"placeholder",p(x).label)}),Br(L,()=>t[p(x).key],O=>t[p(x).key]=O),G(b,D)}),h(M),h(f);var j=w(f,2),R=m(j),F=w(m(R),2),ee=w(m(F),2),re=m(ee,!0);h(ee),h(F);var z=w(F,2),U=m(z),K=w(m(U),2),ae=m(K,!0);h(K),h(U);var we=w(U,2),ye=w(m(we),2),Je=m(ye,!0);h(ye),h(we),h(z),h(R),h(j),h(n),Er(2),h(_),se((b,x,D)=>{V(g,`Selected Tower: ${b??""}`),V(re,p(i).level),V(ae,x),V(Je,D)},[()=>{var b;return(b=p(s).find(x=>x.id===t.selectedTower))==null?void 0:b.name},()=>p(i).currDegree.toLocaleString(),()=>p(i).nextDegree.toLocaleString()]),$r(c,()=>t.difficulty,b=>t.difficulty=b),G(e,_),Ar()}export{sa as component};
